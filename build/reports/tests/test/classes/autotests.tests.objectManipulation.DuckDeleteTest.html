<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class autotests.tests.objectManipulation.DuckDeleteTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class autotests.tests.objectManipulation.DuckDeleteTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/autotests.tests.objectManipulation.html">autotests.tests.objectManipulation</a> &gt; DuckDeleteTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">1</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.674s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">successfulDeleteDuck[0](null)</td>
<td class="success">0.674s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>11:47:17,491 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:17,494 INFO  port.LoggingReporter| 
11:47:17,495 INFO  port.LoggingReporter| ------------------------------------------------------------------------
11:47:17,495 DEBUG port.LoggingReporter| STARTING TEST DuckDeleteTest.successfulDeleteDuck &lt;autotests.tests.objectManipulation&gt;
11:47:17,495 INFO  port.LoggingReporter| 
11:47:17,495 DEBUG trus.DefaultTestCase| Initializing test case
11:47:17,495 DEBUG  context.TestContext| Setting variable: citrus.test.name with value: 'DuckDeleteTest.successfulDeleteDuck'
11:47:17,495 DEBUG  context.TestContext| Setting variable: citrus.test.package with value: 'autotests.tests.objectManipulation'
11:47:17,495 DEBUG trus.DefaultTestCase| Initializing test parameter 'arg0' as variable
11:47:17,495 DEBUG  context.TestContext| Setting variable: arg0 with value: 'com.consol.citrus.DefaultTestCaseRunner@44b5bf2'
11:47:17,495 DEBUG trus.DefaultTestCase| Test variables:
11:47:17,496 DEBUG trus.DefaultTestCase| citrus.test.package = autotests.tests.objectManipulation
11:47:17,497 DEBUG trus.DefaultTestCase| arg0 = com.consol.citrus.DefaultTestCaseRunner@44b5bf2
11:47:17,502 INFO  port.LoggingReporter| 
11:47:17,502 DEBUG trus.DefaultTestCase| citrus.test.name = DuckDeleteTest.successfulDeleteDuck
11:47:17,502 DEBUG port.LoggingReporter| TEST STEP 0: send
11:47:17,503 DEBUG  context.TestContext| Setting variable: duckId with value: '394362'
11:47:17,503 INFO  port.LoggingReporter| 
11:47:17,503 DEBUG port.LoggingReporter| TEST STEP 0: sql
11:47:17,503 DEBUG ons.ExecuteSQLAction| Executing SQL statement: INSERT INTO DUCK (id, color, height, material, sound, wings_state)
VALUES (394362, 'yellow', 0.15, 'rubber', 'quack', 'ACTIVE')
11:47:17,505 INFO  ons.ExecuteSQLAction| SQL statement execution successful
11:47:17,505 INFO  port.LoggingReporter| 
11:47:17,505 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:17,507 INFO  port.LoggingReporter| 
11:47:17,507 DEBUG port.LoggingReporter| TEST STEP 0: send
11:47:17,508 DEBUG ltCorrelationManager| Saving correlation key for 'citrus_message_correlator_duckService'
11:47:17,510 DEBUG  context.TestContext| Setting variable: citrus_message_correlator_duckService with value: 'citrus_message_id = '59fc0c06-c8fd-4888-be08-b4cc33e1a4cf''
11:47:17,510 DEBUG  context.TestContext| Setting variable: citrus_message_replyTo_citrus_message_correlator_duckService with value: 'http://localhost:2222/api/duck/delete?id=394362'
11:47:17,510 INFO     client.HttpClient| Sending HTTP message to: 'http://localhost:2222/api/duck/delete?id=394362'
11:47:17,511 DEBUG    client.HttpClient| Message to send:

11:47:17,763 DEBUG ingClientInterceptor| Received Http response message
11:47:17,764 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:17,851 DEBUG ingClientInterceptor| Sending Http request message
11:47:17,851 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:17,920 INFO     client.HttpClient| HTTP message was sent to endpoint: 'http://localhost:2222/api/duck/action/properties?id=1234568'
11:47:17,921 DEBUG ltCorrelationManager| Saving correlated object for 'citrus_message_id = '81436bfc-794b-42cc-96aa-2707880a18b9''
11:47:17,921 INFO  port.LoggingReporter| 
11:47:17,921 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:17,922 INFO  port.LoggingReporter| 
11:47:17,922 DEBUG port.LoggingReporter| TEST STEP 0: receive
11:47:17,961 DEBUG ingClientInterceptor| Received Http response message
11:47:17,962 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:17,969 INFO     client.HttpClient| HTTP message was sent to endpoint: 'http://localhost:2222/api/duck/delete?id=394362'
11:47:17,970 DEBUG ltCorrelationManager| Saving correlated object for 'citrus_message_id = '59fc0c06-c8fd-4888-be08-b4cc33e1a4cf''
11:47:17,970 INFO  port.LoggingReporter| 
11:47:17,970 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:17,986 INFO  port.LoggingReporter| 
11:47:17,986 DEBUG port.LoggingReporter| TEST STEP 0: sql-query
11:47:17,987 DEBUG xecuteSQLQueryAction| Executing SQL query: SELECT COUNT(*) AS count FROM DUCK WHERE ID=394362
11:47:17,998 DEBUG ltCorrelationManager| Saving correlation key for 'citrus_message_correlator_duckService'
11:47:17,999 DEBUG  context.TestContext| Setting variable: citrus_message_correlator_duckService with value: 'citrus_message_id = 'c7b815b4-9175-4752-a588-5e150c7a6d4e''
11:47:17,999 DEBUG  context.TestContext| Setting variable: citrus_message_replyTo_citrus_message_correlator_duckService with value: 'http://localhost:2222/api/duck/create'
11:47:17,999 INFO     client.HttpClient| Sending HTTP message to: 'http://localhost:2222/api/duck/create'
11:47:17,999 DEBUG    client.HttpClient| Message to send:
{&quot;color&quot;:&quot;yellow&quot;,&quot;height&quot;:0.15,&quot;material&quot;:&quot;rubber&quot;,&quot;sound&quot;:&quot;quack&quot;,&quot;wingsState&quot;:&quot;ACTIVE&quot;}
11:47:18,000 DEBUG ingClientInterceptor| Sending Http request message
11:47:18,001 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:18,049 DEBUG ingClientInterceptor| Received Http response message
11:47:18,052 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:18,055 INFO     client.HttpClient| HTTP message was sent to endpoint: 'http://localhost:2222/api/duck/create'
11:47:18,056 DEBUG ltCorrelationManager| Saving correlated object for 'citrus_message_id = 'c7b815b4-9175-4752-a588-5e150c7a6d4e''
11:47:18,056 INFO  port.LoggingReporter| 
11:47:18,056 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:18,062 DEBUG   util.TypeConverter| Using type converter 'spring'
11:47:18,050 DEBUG ngCorrelationManager| Get correlation key for 'citrus_message_correlator_duckService'
11:47:18,090 DEBUG ltCorrelationManager| Finding correlated object for 'citrus_message_id = '81436bfc-794b-42cc-96aa-2707880a18b9''
11:47:18,091 DEBUG ReceiveMessageAction| Received message:
HTTPMESSAGE [id: b6c21873-42f9-4326-bf2e-f730a1be8a2f, payload: {}][headers: {Transfer-Encoding=chunked, Connection=keep-alive, contentType=application/json, Date=1738212437000, citrus_message_id=b6c21873-42f9-4326-bf2e-f730a1be8a2f, citrus_message_timestamp=1738212437921, Keep-Alive=timeout=60, Content-Type=application/json, citrus_http_status_code=200, citrus_http_reason_phrase=OK, citrus_http_version=HTTP/1.1}]
11:47:18,092 DEBUG ReceiveMessageAction| Control message:
HTTPMESSAGE [id: 7717e09b-db00-485c-ba39-3ad77c3f98d7, payload: {
  &quot;color&quot;: &quot;yellow&quot;,
  &quot;height&quot;: 0.15,
  &quot;material&quot;: &quot;wood&quot;,
  &quot;sound&quot;: &quot;quack&quot;,
  &quot;wingsState&quot;: &quot;ACTIVE&quot;
}][headers: {citrus_message_id=7717e09b-db00-485c-ba39-3ad77c3f98d7, citrus_message_timestamp=1738212437922, citrus_http_reason_phrase=OK, citrus_http_status_code=200, Content-Type=application/json, citrus_message_type=XML}]
11:47:18,093 DEBUG ageValidatorRegistry| Found 3 message validators for message
11:47:18,093 DEBUG ssageHeaderValidator| Start message header validation ...
11:47:18,094 DEBUG faultHeaderValidator| Validating header element: citrus_http_reason_phrase='OK': OK.
11:47:18,095 INFO  port.LoggingReporter| 
11:47:18,095 INFO  port.LoggingReporter| ------------------------------------------------------------------------
11:47:18,095 DEBUG port.LoggingReporter| STARTING TEST DuckFlyTest.successfulFlyWithFixedWings &lt;autotests.tests.actions&gt;
11:47:18,095 INFO  port.LoggingReporter| 
11:47:18,095 DEBUG trus.DefaultTestCase| Initializing test case
11:47:18,095 DEBUG  context.TestContext| Setting variable: citrus.test.name with value: 'DuckFlyTest.successfulFlyWithFixedWings'
11:47:18,096 DEBUG  context.TestContext| Setting variable: citrus.test.package with value: 'autotests.tests.actions'
11:47:18,096 DEBUG trus.DefaultTestCase| Initializing test parameter 'arg0' as variable
11:47:18,096 DEBUG  context.TestContext| Setting variable: arg0 with value: 'com.consol.citrus.DefaultTestCaseRunner@451cd8be'
11:47:18,097 DEBUG trus.DefaultTestCase| Test variables:
11:47:18,098 DEBUG trus.DefaultTestCase| citrus.test.package = autotests.tests.actions
11:47:18,098 DEBUG trus.DefaultTestCase| arg0 = com.consol.citrus.DefaultTestCaseRunner@451cd8be
11:47:18,098 DEBUG trus.DefaultTestCase| citrus.test.name = DuckFlyTest.successfulFlyWithFixedWings
11:47:18,098 DEBUG  context.TestContext| Setting variable: duckId with value: '337678'
11:47:18,095 DEBUG faultHeaderValidator| Validating header element: citrus_http_status_code='200': OK.
11:47:18,100 INFO  port.LoggingReporter| 
11:47:18,100 DEBUG port.LoggingReporter| TEST STEP 0: sql
11:47:18,100 DEBUG ons.ExecuteSQLAction| Executing SQL statement: INSERT INTO DUCK (id, color, height, material, sound, wings_state)
VALUES (337678, 'yellow', 0.15, 'rubber', 'quack', 'FIXED')
11:47:18,100 DEBUG faultHeaderValidator| Validating header element: Content-Type='application/json': OK.
11:47:18,101 INFO  ssageHeaderValidator| Message header validation successful: All values OK
11:47:18,101 DEBUG TextMessageValidator| Start JSON message validation ...
11:47:18,101 DEBUG JsonSchemaValidation| Starting Json schema validation ...
11:47:18,101 INFO  JsonSchemaValidation| Json schema validation successful: All values OK
11:47:18,102 DEBUG trus.DefaultTestCase| Entering finally block in test case
11:47:18,102 INFO  port.LoggingReporter| 
11:47:18,103 DEBUG port.LoggingReporter| TEST STEP 0: DuckPropertiesTest$$Lambda$1087/0x00000008405c0040
11:47:18,103 INFO  port.LoggingReporter| 
11:47:18,103 DEBUG port.LoggingReporter| TEST STEP 0: sql
11:47:18,103 DEBUG ons.ExecuteSQLAction| Executing SQL statement: DELETE FROM DUCK WHERE ID=1234568
11:47:18,117 INFO  port.LoggingReporter| 
11:47:18,117 DEBUG port.LoggingReporter| TEST STEP 0: receive
11:47:18,118 DEBUG ngCorrelationManager| Get correlation key for 'citrus_message_correlator_duckService'
11:47:18,118 DEBUG ltCorrelationManager| Finding correlated object for 'citrus_message_id = 'c7b815b4-9175-4752-a588-5e150c7a6d4e''
11:47:18,119 DEBUG ReceiveMessageAction| Received message:
HTTPMESSAGE [id: a6db99c4-161e-4765-90d2-7dfb0d05b38b, payload: {
  &quot;id&quot;: 9,
  &quot;color&quot;: &quot;yellow&quot;,
  &quot;height&quot;: 0.15,
  &quot;material&quot;: &quot;rubber&quot;,
  &quot;sound&quot;: &quot;quack&quot;,
  &quot;wingsState&quot;: &quot;ACTIVE&quot;
}][headers: {Transfer-Encoding=chunked, Connection=keep-alive, contentType=application/json, Date=1738212437000, citrus_message_id=a6db99c4-161e-4765-90d2-7dfb0d05b38b, citrus_message_timestamp=1738212438056, Keep-Alive=timeout=60, Content-Type=application/json, citrus_http_status_code=200, citrus_http_reason_phrase=OK, citrus_http_version=HTTP/1.1}]
11:47:18,119 DEBUG oadVariableExtractor| Reading path elements.
11:47:18,127 DEBUG athVariableExtractor| Reading JSON elements with JSONPath
11:47:18,129 DEBUG athVariableExtractor| Evaluating JSONPath expression: $.id
11:47:18,140 INFO  xecuteSQLQueryAction| SQL query execution successful
11:47:18,144 INFO  ons.ExecuteSQLAction| SQL statement execution successful
11:47:18,144 INFO  port.LoggingReporter| 
11:47:18,144 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:18,144 INFO  port.LoggingReporter| 
11:47:18,144 DEBUG port.LoggingReporter| TEST STEP 0 SUCCESS
11:47:18,144 INFO  port.LoggingReporter| 
11:47:18,144 ERROR port.LoggingReporter| TEST FAILED DuckPropertiesTest.successfulGetPropertiesWithMaterialWood &lt;autotests.tests.actions&gt; Nested exception is: 
com.consol.citrus.exceptions.ValidationException: Failed to validate JSON text:
{} Number of JSON entries not equal for element: '$.', expected '5' but was '0'
	at com.consol.citrus.validation.json.JsonTextMessageValidator.validateMessage(JsonTextMessageValidator.java:114)
	at com.consol.citrus.validation.json.JsonTextMessageValidator.validateMessage(JsonTextMessageValidator.java:58)
	at com.consol.citrus.validation.AbstractMessageValidator.validateMessage(AbstractMessageValidator.java:46)
	at com.consol.citrus.actions.ReceiveMessageAction.validateMessage(ReceiveMessageAction.java:279)
	at com.consol.citrus.actions.ReceiveMessageAction.doExecute(ReceiveMessageAction.java:168)
	at com.consol.citrus.actions.AbstractTestAction.execute(AbstractTestAction.java:59)
	at com.consol.citrus.DefaultTestCase.executeAction(DefaultTestCase.java:136)
	at com.consol.citrus.DefaultTestCaseRunner.run(DefaultTestCaseRunner.java:125)
	at com.consol.citrus.TestActionRunner.$(TestActionRunner.java:35)
	at autotests.clients.DuckActionsClient.validateResponseString(DuckActionsClient.java:30)
	at autotests.tests.actions.DuckPropertiesTest.successfulGetPropertiesWithMaterialWood(DuckPropertiesTest.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at com.consol.citrus.testng.TestNGHelper.lambda$invokeTestMethod$1(TestNGHelper.java:82)
	at com.consol.citrus.common.DefaultTestLoader.lambda$doLoad$1(DefaultTestLoader.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at com.consol.citrus.common.DefaultTestLoader.doLoad(DefaultTestLoader.java:116)
	at com.consol.citrus.common.DefaultTestLoader.load(DefaultTestLoader.java:94)
	at com.consol.citrus.testng.TestNGHelper.invokeTestMethod(TestNGHelper.java:83)
	at com.consol.citrus.testng.spring.TestNGCitrusSpringSupport.run(TestNGCitrusSpringSupport.java:185)
	at com.consol.citrus.testng.spring.TestNGCitrusSpringSupport.run(TestNGCitrusSpringSupport.java:101)
	at org.testng.internal.invokers.MethodInvocationHelper.invokeHookable(MethodInvocationHelper.java:272)
	at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:669)
	at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)
	at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)
	at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)
	at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)
	at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)
	at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IllegalArgumentException: Number of JSON entries not equal for element: '$.', expected '5' but was '0'
	at org.springframework.util.Assert.isTrue(Assert.java:121)
	at com.consol.citrus.validation.json.JsonTextMessageValidator.validateJson(JsonTextMessageValidator.java:145)
	at com.consol.citrus.validation.json.JsonTextMessageValidator.validateMessage(JsonTextMessageValidator.java:102)
	... 34 more
11:47:18,146 INFO  port.LoggingReporter| ------------------------------------------------------------------------
11:47:18,146 INFO  port.LoggingReporter| 
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.8</a> at 30 янв. 2025 г., 11:47:20</p>
</div>
</div>
</body>
</html>
